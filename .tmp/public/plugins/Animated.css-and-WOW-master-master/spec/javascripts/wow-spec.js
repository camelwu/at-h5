/*! asiatravel FE team at-h5-nodejs-----2016-05-19T16:09:38 */
(function(){describe("WOW",function(){var a,b;return window.console={warn:function(){}},a=100,b=300,describe("smoke test",function(){return it("exists",function(){return expect(WOW).toBeDefined()}),it("has an 'init' method",function(){return expect((new WOW).init).toBeDefined()})}),describe("simple test environment",function(){return beforeEach(function(){return loadFixtures("simple.html")}),it("emulates window height",function(){return expect(document.documentElement.clientHeight).toBe(b)}),it("has boxes set up for testing",function(){var a,b,c,d;return b=200,a=$("#simple").children().length,expect($("#simple").height()).toBe(b*a),expect($("#simple-1").height()).toBe(b),expect($("#simple-2").height()).toBe(b),expect($("#simple-3").height()).toBe(b),expect($("#simple-4").height()).toBe(b),expect($("#simple-5").height()).toBe(b),c=$("#simple").offset().top,expect($("#simple-1").offset().top).toBe(c+0*b),expect($("#simple-2").offset().top).toBe(c+1*b),expect($("#simple-3").offset().top).toBe(c+2*b),expect($("#simple-4").offset().top).toBe(c+3*b),expect($("#simple-5").offset().top).toBe(c+4*b),d=$("#simple-5")[0].style,expect(d.background).toBe("yellow"),expect(d.color).toBe("red")})}),describe("library behaviour",function(){var c;return c=null,beforeEach(function(b){return loadFixtures("simple.html"),(c=new WOW).init(),setTimeout(function(){return b()},a)}),it("animates elements that are fully visible on the page",function(){return expect($("#simple-1")).toHaveClass("animated"),expect($("#simple-1").css("visibility")).toBe("visible")}),it("does not touch elements that don't have the marker class",function(){return expect($("#simple-2")).not.toHaveClass("animated"),expect($("#simple-2").css("visibility")).toBe("visible")}),it("does not animate elements not yet visible on the page",function(){return expect($("#simple-3")).not.toHaveClass("animated"),expect($("#simple-3").css("visibility")).not.toBe("visible"),expect($("#simple-4")).not.toHaveClass("animated"),expect($("#simple-4").css("visibility")).not.toBe("visible")}),it("animates elements after scrolling down and they become visible",function(c){return window.scrollTo(0,$("#simple-3").offset().top-b+150),setTimeout(function(){return expect($("#simple-3")).toHaveClass("animated"),expect($("#simple-3").css("visibility")).toBe("visible"),expect($("#simple-4")).not.toHaveClass("animated"),expect($("#simple-4").css("visibility")).not.toBe("visible"),window.scrollTo(0,$("#simple-4").offset().top-b+150),setTimeout(function(){return expect($("#simple-4")).toHaveClass("animated"),expect($("#simple-4").css("visibility")).toBe("visible"),c()},a)},a)}),it("does not tamper with the style attribute",function(c){return window.scrollTo(0,$("#simple-5").offset().top-b+150),setTimeout(function(){return expect($("#simple-5")).toHaveClass("animated"),expect($("#simple-5").css("visibility")).toBe("visible"),expect($("#simple-5")[0].style.background).toBe("yellow"),expect($("#simple-5")[0].style.color).toBe("red"),c()},a)}),it("works with asynchronously loaded content",function(d){return $("#simple").append($("<div/>",{id:"simple-6","class":"wow"})),c.sync(),window.scrollTo(0,$("#simple-6").offset().top-b+150),setTimeout(function(){return expect($("#simple-6")).toHaveClass("animated"),expect($("#simple-6").css("visibility")).toBe("visible"),d()},a)}),it("works with asynchronously loaded nested content",function(d){return $("#simple").append($("<div/>")).children().first().append($("<div/>",{id:"simple-7","class":"wow"})),c.sync(),window.scrollTo(0,$("#simple-7").offset().top-b+150),setTimeout(function(){return expect($("#simple-7")).toHaveClass("animated"),expect($("#simple-7").css("visibility")).toBe("visible"),d()},a)})}),describe("custom test environment",function(){return beforeEach(function(){return loadFixtures("custom.html")}),it("emulates window height",function(){return expect(document.documentElement.clientHeight).toBe(b)}),it("has boxes set up for testing",function(){var a;return expect($("#custom").height()).toBe(800),expect($("#custom-1").height()).toBe(200),expect($("#custom-2").height()).toBe(200),expect($("#custom-3").height()).toBe(200),expect($("#custom-4").height()).toBe(200),a=$("#custom").offset().top,expect($("#custom-1").offset().top).toBe(a+0),expect($("#custom-2").offset().top).toBe(a+200),expect($("#custom-3").offset().top).toBe(a+400),expect($("#custom-4").offset().top).toBe(a+600)})}),describe("library behaviour with custom settings",function(){var c;return c=!1,beforeEach(function(b){return c=!1,loadFixtures("custom.html"),new WOW({boxClass:"block",animateClass:"fancy",offset:10,callback:function(){return c=!0}}).init(),$(".block").on("block",function(){return $(this).addClass("triggered")}),setTimeout(function(){return b()},a)}),it("creates two instances of the WOW.js with different configs",function(){var a,b;return a=new WOW({boxClass:"block1",animateClass:"fancy1",offset:10}),b=new WOW({boxClass:"block2",animateClass:"fancy2",offset:20}),expect(a.config.boxClass).toBe("block1"),expect(a.config.animateClass).toBe("fancy1"),expect(a.config.offset).toBe(10)}),it("does not touch elements that don't have the marker class",function(c){return window.scrollTo(0,$("#custom-1").offset().top-b+15),setTimeout(function(){return expect($("#custom-1")).not.toHaveClass("fancy"),c()},a)}),it("animates elements that are partially visible on the page based on the 'offset' config",function(c){return setTimeout(function(){return window.scrollTo(0,$("#custom-2").offset().top-b+5),expect($("#custom-2")).not.toHaveClass("fancy"),window.scrollTo(0,$("#custom-2").offset().top-b+15),setTimeout(function(){return expect($("#custom-2")).toHaveClass("fancy"),expect($("#custom-2").css("visibility")).toBe("visible"),c()},a)},a)}),it("does not animate elements not yet visible on the page",function(){return expect($("#custom-3")).not.toHaveClass("fancy"),expect($("#custom-4")).not.toHaveClass("fancy")}),it("animates elements after scrolling down and they become visible",function(c){return window.scrollTo(0,$("#custom-3").offset().top-b+150),setTimeout(function(){return expect($("#custom-3")).toHaveClass("fancy"),expect($("#custom-3").css("visibility")).toBe("visible"),expect($("#custom-3")[0].style.webkitAnimationIterationCount).toBe("2"),expect($("#custom-4")).not.toHaveClass("fancy"),window.scrollTo(0,$("#custom-4").offset().top-b+150),setTimeout(function(){return expect($("#custom-4")).toHaveClass("fancy"),expect($("#custom-4").css("visibility")).toBe("visible"),expect($("#custom-4")[0].style.webkitAnimationIterationCount).toBe("infinite"),expect($("#custom-4")[0].style.webkitAnimationDuration).toBe("2s"),expect($("#custom-4")[0].style.webkitAnimationDelay).toBe("1s"),c()},a)},a)}),it("fires the callback",function(d){return c=!1,window.scrollTo(0,$("#custom-3").offset().top-b+150),setTimeout(function(){return expect(c).toBe(!0),d()},a)}),it("fires the callback on the visible element",function(c){return window.scrollTo(0,$("#custom-3").offset().top-b+150),setTimeout(function(){return expect($("#custom-3")).toHaveClass("triggered"),expect($("#custom-4")).not.toHaveClass("triggered"),window.scrollTo(0,$("#custom-4").offset().top-b+150),setTimeout(function(){return expect($("#custom-3")).toHaveClass("triggered"),expect($("#custom-4")).toHaveClass("triggered"),c()},a)},a)})})})}).call(this);