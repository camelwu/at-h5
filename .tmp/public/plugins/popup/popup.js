/*! asiatravel FE team at-h5-nodejs-----2016-05-19T15:21:43 */
!function(a,b,c){function d(a){this.title=a.title||"",this.content=a.cnt||"",this.btnl=a.btnl||"",this.btnr=a.btnr||"",this.cbs=a.cbs?a.cbs:[function(){},function(){}],this.mask=".w_popup_mask",this.pop=".w_popup",this.popid="#pop"+Math.ceil(1e5*Math.random()),this.setup().hide().attEvent()}return a&&b&&c?(d.prototype.setup=function(){var a=this;if(0===c(a.mask).size()&&c("body").append('<div class="'+a.mask.slice(1)+'"></div>'),0===c(a.popid).size()){var b='<div id="'+a.popid.slice(1)+'" class="'+a.pop.slice(1)+'">';d=['<div class="title">'+a.title+"</div>",'<div class="content scroll">'+a.content+"</div>",'<div class="bar"><div class="btn_l">'+a.btnl+"</div>",'<div class="btn_r">'+a.btnr+"</div>","</div>"].join(""),b+=d,b+="</div>",c("body").append(b)}return a},d.prototype.show=function(){var a=this;c(a.mask).show(),c(a.popid).show();var b=c(a.popid).height()/2;return c(a.popid).css("margin-top",-b+"px"),a},d.prototype.hide=function(){var a=this;return c(a.mask).hide(),c(a.popid).css("margin-top",0),c(a.popid).hide(),a},d.prototype.attEvent=function(){var a=this;return c(a.popid+" .btn_l").on("click",function(){a.cbs[0]&&"function"==typeof a.cbs[0]&&a.cbs[0]()}),c(a.popid+" .btn_r").on("click",function(){a.cbs[1]&&"function"==typeof a.cbs[1]&&a.cbs[1]()}),c(a.mask).on("touchstart",function(a){a.preventDefault(),a.stopPropagation()}),a},a.widget=a.widget||{},a.widget.popup=d):!1}(window,document,jQuery);