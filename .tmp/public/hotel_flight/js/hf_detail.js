/*! asiatravel FE team at-h5-nodejs-----2016-05-19T15:21:43 */
!function(a){a(document).ready(function(){window.addEventListener("load",function(){FastClick.attach(document.body)},!1)})}(jQuery),function(){function a(){f||(window.location.href="../");var a,b,g,h=f.data;$(".js-set-place").html(h.flightInfo.cityNameFrom),$(".js-to-place").html(h.flightInfo.cityNameTo),g=c(h.flightInfo.segmentsLeaveTotalTravelTimeString,h.flightInfo.segmentsReturnTotalTravelTimeString),$(".js-segmentsTotalTravelTimeString").html(g);for(var i=h,j=0;j<i.flightInfo.segmentsLeave.length;j++)i.flightInfo.segmentsLeave[j].departDate=d(i.flightInfo.segmentsLeave[j].departDate,"hh:mm"),i.flightInfo.segmentsLeave[j].arriveDate=d(i.flightInfo.segmentsLeave[j].arriveDate,"hh:mm");for(var j=0;j<i.flightInfo.segmentsReturn.length;j++)i.flightInfo.segmentsReturn[j].departDate=d(i.flightInfo.segmentsReturn[j].departDate,"hh:mm"),i.flightInfo.segmentsReturn[j].arriveDate=d(i.flightInfo.segmentsReturn[j].arriveDate,"hh:mm");a=template("tpl_SegmentsLeave",i),b=template("tpl_SegmentsReturn",i),$(".js-go-trip").html(a),$(".js-back-trip").html(b),$(".js-month-day1").html(d(h.flightInfo.flightLeaveStartDate,"MM-dd")),$(".js-week-day-item1").html("周"+e(d(h.flightInfo.flightLeaveStartDate,"d"))),$(".js-start1").html(h.flightInfo.cityNameFrom),$(".js-end1").html(h.flightInfo.cityNameTo),$(".js-detail-hour1").html(h.flightInfo.segmentsLeaveTotalTravelTimeString),$(".js-month-day2").html(d(h.flightInfo.flightReturnStartDate,"MM-dd")),$(".js-week-day-item2").html("周"+e(d(h.flightInfo.flightReturnStartDate,"d"))),$(".js-start2").html(h.flightInfo.cityNameFrom),$(".js-end2").html(h.flightInfo.cityNameTo),$(".js-detail-hour2").html(h.flightInfo.segmentsReturnTotalTravelTimeString)}function b(a){return a=a.replace(/((\d{1,4})h)((\d{1,4})m)|((\d{1,2})m)/gi,function(){var a=0;return void 0!=arguments[2]?(a=60*parseInt(arguments[2])+parseInt(arguments[4]),[a]):void 0!=arguments[6]?[arguments[6]]:void 0})}function c(a,c){var d,e,f;if(e=b(a),f=b(c),parseInt(e)+parseInt(f)<60)d=parseInt(e)+parseInt(f)+"m";else{var g=Math.round((parseInt(e)+parseInt(f))/60),h=(parseInt(e)+parseInt(f))%60;d=g+"h"+h+"m"}return d}function d(a,b){a.indexOf("T")>-1&&(a=a.replace("T"," "),a.indexOf("-")>-1&&(a=a.replace(/-/g,"/")),a=new Date(a));var c=function(a){return a+="",a.replace(/^(\d)$/,"0$1")},d={yyyy:a.getFullYear(),yy:a.getFullYear().toString().substring(2),M:a.getMonth()+1,MM:c(a.getMonth()+1),d:a.getDay(),dd:c(a.getDate()),hh:c(a.getHours()),mm:c(a.getMinutes()),ss:c(a.getSeconds())};return b||(b="yyyy-MM-dd hh:mm:ss"),b.replace(/([a-z])(\1)*/gi,function(a){return d[a]})}function e(a){return week=["日","一","二","三","四","五","六"],week[a]}var f=JSON.parse(sessionStorage.getItem("flightHotelAllData"));a()}();