/*! asiatravel FE team at-h5-nodejs-----2016-05-19T15:21:43 */
function setAge(a){a.value=a.value.replace(/\D/gi,"")}function checkAge(a){(parseInt(a.value)<2||parseInt(a.value)>12)&&(jAlert("儿童年龄不符合标准!"),a.value="")}var val=vlm.parseUrlPara(window.location.href),htf_search={init_title_room:function(){var a,b=this,c=$("#indexTab")[0],d=c.getElementsByTagName("div"),e="",f="",g=document.getElementsByClassName("search_hotel"),h=g[0].querySelector(".hotelInfo_numb_room"),i=g[1].querySelector(".hotelInfo_numb_room");if(localStorage.cacheSearch){var j=JSON.parse(localStorage.cacheSearch);switch(j.Box){case 1:d[0].className="tab active",$("#flightHotelBox").show();break;case 2:d[1].className="tab active",$("#flightHotelTourBox").show()}$(".content_box").eq(0).find(".origin").html(j.hfSearchInfo.FromCityNameCN),$(".content_box").eq(0).find(".destination").html(j.hfSearchInfo.ToCityNameCN),$(".content_box").eq(1).find(".origin").attr("data-citycode",j.hftSearchInfo.FromCityCode),$(".content_box").eq(1).find(".destination").attr("data-citycode",j.hftSearchInfo.ToCityCode),$(".content_box").eq(0).find("#hf_roomNum").html(j.hfSearchInfo.RoomInfo.length),$(".content_box").eq(1).find("#hft_roomNum").html(j.hftSearchInfo.RoomInfo.length);for(var k,l,m=0;m<j.hfSearchInfo.RoomInfo.length;m++)e=0==m?j.hfSearchInfo.RoomInfo[m].childWithOutBed&&1==j.hfSearchInfo.RoomInfo[m].adult?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div></div>':j.hfSearchInfo.RoomInfo[m].childWithOutBed&&1==j.hfSearchInfo.EchChildNum[m]?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hfSearchInfo.RoomInfo[m].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div></div>':j.hfSearchInfo.RoomInfo[m].childWithOutBed&&2==j.hfSearchInfo.EchChildNum[m]?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon ico_select"></b></span></div></div>':j.hfSearchInfo.RoomInfo[m].childWithBed&&1==j.hfSearchInfo.EchChildNum[m].adult?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div></div>':j.hfSearchInfo.RoomInfo[m].childWithBed&&1==j.hfSearchInfo.EchChildNum[m]?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div></div>':'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">0</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div>':j.hfSearchInfo.RoomInfo[m].childWithOutBed&&1==j.hfSearchInfo.RoomInfo[m].adult?'<span class="title">房间'+(m+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div></div>':j.hfSearchInfo.RoomInfo[m].childWithOutBed&&1==j.hfSearchInfo.EchChildNum[m]?'<span class="title">房间'+(m+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div></div>':j.hfSearchInfo.RoomInfo[m].childWithOutBed&&2==j.hfSearchInfo.EchChildNum[m]?'<span class="title">房间'+(m+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon ico_select"></b></span></div></div>':j.hfSearchInfo.RoomInfo[m].childWithBed&&1==j.hfSearchInfo.RoomInfo[m].adult?'<span class="title">房间'+(m+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_ui">岁</i></div></div>':j.hfSearchInfo.RoomInfo[m].childWithBed&&1==j.hfSearchInfo.EchChildNum[m]?'<span class="title">房间'+(m+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hfSearchInfo.RoomInfo[m].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div></div>':'<span class="title">房间'+(m+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hfSearchInfo.RoomInfo[m].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">0</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp-cage" type="tel" placeholder="(2-12)" onkeyup="setAge(this);" onblur="checkAge(this)";><i class="child_sui">岁</i></div>',a=document.createElement("section"),a.innerHTML=e,a.className="hotelInfo_numb_people",k=$(".content_box").eq(0).find(".hotelInfo_numb_people").length,l=$(".content_box").eq(0).find(".hotelInfo_numb_people"),k?g[0].insertBefore(a,l[k-1].nextSibling):g[0].insertBefore(a,h.nextSibling);for(var n=0;n<j.hftSearchInfo.RoomInfo.length;n++)f=0==n?j.hftSearchInfo.RoomInfo[n].childWithOutBed&&1==j.hftSearchInfo.RoomInfo[n].adult?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div></div>':j.hftSearchInfo.RoomInfo[n].childWithOutBed&&1==j.hftSearchInfo.EchChildNum[n]?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hftSearchInfo.RoomInfo[n].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div></div>':j.hftSearchInfo.RoomInfo[n].childWithOutBed&&2==j.hftSearchInfo.EchChildNum[n]?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon ico_select"></b></span></div></div>':j.hftSearchInfo.RoomInfo[n].childWithBed&&1==j.hftSearchInfo.EchChildNum[n].adult?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div></div>':j.hftSearchInfo.RoomInfo[n].childWithBed&&1==j.hftSearchInfo.EchChildNum[n]?'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div></div>':'<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">0</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div>':j.hftSearchInfo.RoomInfo[n].childWithOutBed&&1==j.hftSearchInfo.RoomInfo[n].adult?'<span class="title">房间'+(n+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div></div>':j.hftSearchInfo.RoomInfo[n].childWithOutBed&&1==j.hftSearchInfo.EchChildNum[n]?'<span class="title">房间'+(n+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div></div>':j.hftSearchInfo.RoomInfo[n].childWithOutBed&&2==j.hftSearchInfo.EchChildNum[n]?'<span class="title">房间'+(n+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">2</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithOutBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon ico_select"></b></span></div></div>':j.hftSearchInfo.RoomInfo[n].childWithBed&&1==j.hftSearchInfo.RoomInfo[n].adult?'<span class="title">房间'+(n+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_ui">岁</i></div></div>':j.hftSearchInfo.RoomInfo[n].childWithBed&&1==j.hftSearchInfo.EchChildNum[n]?'<span class="title">房间'+(n+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">1</i><span class="plus_btn"></span></div></div><div class="extraChild"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value="'+j.hftSearchInfo.RoomInfo[n].childWithBed[0]+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div></div>':'<span class="title">房间'+(n+1)+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adult-down"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">'+j.hftSearchInfo.RoomInfo[n].adult+'</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">0</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp-cage" type="tel" placeholder="(2-12)" onkeyup="setAge(this);" onblur="checkAge(this)";><i class="child_sui">岁</i></div>',a=document.createElement("section"),a.innerHTML=f,a.className="hotelInfo_numb_people",k=$(".content_box").eq(1).find(".hotelInfo_numb_people").length,l=$(".content_box").eq(1).find(".hotelInfo_numb_people"),k?g[1].insertBefore(a,l[k-1].nextSibling):g[1].insertBefore(a,i.nextSibling)}else{d[0].className="tab active",$("#flightHotelBox").show();document.querySelector(".hotelInfo_numb_room");$("#hf_roomNum").html(1),$("#hft_roomNum").html(1),e='<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">2</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">0</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div>',
a=document.createElement("section"),a.innerHTML=e,a.className="hotelInfo_numb_people init-hotel-room-detail",g[0].insertBefore(a,h.nextSibling),f='<span class="title">房间1</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">2</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><b class="com_icon child_age_state"></b><div class="age_state_box"><div class="state_text">儿童年龄限制为大于等于2周岁，小于12周岁的儿童。</div><div></div></div><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">0</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="(2-12)" onkeyup="setAge(this);" onblur="checkAge(this);"><i class="child_sui">岁</i></div>',a=document.createElement("section"),a.innerHTML=f,a.className="hotelInfo_numb_people init-hotel-room-detail",g[1].insertBefore(a,i.nextSibling)}$(".tab").click(function(){$(this).addClass("active").siblings().removeClass("active"),0==$(this).index()?($("#flightHotelBox").show(),$("#flightHotelTourBox").hide()):($("#flightHotelBox").hide(),$("#flightHotelTourBox").show()),b.add_subtract()}),$(".child_age_state").click(function(a){a.stopPropagation(),$(this).siblings(".age_state_box").toggle()}),$("body").click(function(a){var b=document.getElementsByClassName("age_state_box");"none"==b[0].style.display&&"none"==b[1].style.display||(b[0].style.display="none",b[1].style.display="none")}),this.initCalendar()},initCalendar:function(){var a,b,c,d,e,f,g={},h={},i=new Date,j=$("#fhCalendar .js_startDay"),k=$("#fhCalendar .js_endDay"),l=$("#fhCalendar .js_startData"),m=$("#fhCalendar .js_returnData"),n=$("#fhCalendar .week_one"),o=$("#fhCalendar .week_two"),p=$("#fhtCalendar .js_startDay"),q=$("#fhtCalendar .js_endDay"),r=$("#fhtCalendar .js_startData"),s=$("#fhtCalendar .js_returnData"),t=$("#fhtCalendar .week_one"),u=$("#fhtCalendar .week_two");if(e=new Date(i.getFullYear(),i.getMonth(),i.getDate()+2),f=new Date(i.getFullYear(),i.getMonth(),i.getDate()+4),localStorage.cacheSearch){var v,w,x=JSON.parse(localStorage.cacheSearch),a=x.hfSearchInfo.DepartDay,b=x.hfSearchInfo.ReturnDay,c=x.hftSearchInfo.DepartDay,d=x.hftSearchInfo.ReturnDay;v=new Date(a.replace(/-/g,"/")),w=new Date(b.replace(/-/g,"/")),e>v&&(v=e,w=f),l.attr("data-day",a),m.attr("data-day",b),j.html(v.getMonth()+1+"月"+v.getDate()+"日"),n.html(vlm.Utils.getWeek(v.toDateString())),k.html(w.getMonth()+1+"月"+w.getDate()+"日"),o.html(vlm.Utils.getWeek(w.toDateString())),v=vlm.Utils.format_date(v.toDateString(),"Ymd"),w=vlm.Utils.format_date(w.toDateString(),"Ymd"),g[v]="checkin day",g[w]="checkout day",r.attr("data-day",c),s.attr("data-day",d),v=new Date(c.replace(/-/g,"/")),w=new Date(d.replace(/-/g,"/")),e>v&&(v=e,w=f),p.html(v.getMonth()+1+"月"+v.getDate()+"日"),t.html(vlm.Utils.getWeek(v.toDateString())),q.html(w.getMonth()+1+"月"+w.getDate()+"日"),u.html(vlm.Utils.getWeek(w.toDateString())),v=vlm.Utils.format_date(v.toDateString(),"Ymd"),w=vlm.Utils.format_date(w.toDateString(),"Ymd"),h[v]="checkin day",h[w]="checkout day"}else a=e,j.html(a.getMonth()+1+"月"+a.getDate()+"日"),n.html(vlm.Utils.getWeek(a.toDateString())),a=vlm.Utils.format_date(a.toDateString(),"Ymd"),l.attr("data-day",a),b=f,k.html(b.getMonth()+1+"月"+b.getDate()+"日"),o.html(vlm.Utils.getWeek(b.toDateString())),b=vlm.Utils.format_date(b.toDateString(),"Ymd"),m.attr("data-day",b),g[a]="checkin day",g[b]="checkout day",c=e,p.html(c.getMonth()+1+"月"+c.getDate()+"日"),t.html(vlm.Utils.getWeek(c.toDateString())),c=vlm.Utils.format_date(c.toDateString(),"Ymd"),r.attr("data-day",c),d=f,q.html(d.getMonth()+1+"月"+d.getDate()+"日"),u.html(vlm.Utils.getWeek(d.toDateString())),d=vlm.Utils.format_date(d.toDateString(),"Ymd"),s.attr("data-day",d),h[c]="checkin day",h[d]="checkout day";new Calender({id:"fhCalendar",time:g,callback:function(a){l.attr("data-day",a[0]),m.attr("data-day",a[1]);var b=new Date(a[0].replace(/-/g,"/")),c=new Date(a[1].replace(/-/g,"/"));j.html(b.getMonth()+1+"月"+b.getDate()+"日"),n.html(vlm.Utils.getWeek(b.toDateString())),k.html(c.getMonth()+1+"月"+c.getDate()+"日"),o.html(vlm.Utils.getWeek(c.toDateString()))}}),new Calender({id:"fhtCalendar",time:h,callback:function(a){r.attr("data-day",a[0]),s.attr("data-day",a[1]);var b=new Date(a[0].replace(/-/g,"/")),c=new Date(a[1].replace(/-/g,"/"));p.html(b.getMonth()+1+"月"+b.getDate()+"日"),t.html(vlm.Utils.getWeek(b.toDateString())),q.html(c.getMonth()+1+"月"+c.getDate()+"日"),u.html(vlm.Utils.getWeek(c.toDateString()))}})},toUp:function(a,b,c){var d=b.parentNode.getAttribute("data-type"),e="",f=0,g="",h=this;b.onclick=function(){if(g=b.parentNode.parentNode.parentNode,"extraChild"==d){if(e=a.innerHTML,e=Number(e),e+=1,f=Number(g.querySelector(".adult_people_number").innerHTML)+e,f>5)return;if(e>2)return;a.innerHTML=e,h.extraChild(b.parentNode.parentNode,e),2==e?b.style.backgroundPosition="29.5% 68%":b.style.backgroundPosition="41.2% 68%"}else if("extraRoom"==d){if(e=a.innerHTML,e=Number(e),e+=1,e>5)return;a.innerHTML=e,h.extraRoom(b.parentNode.parentNode,e),5==e?b.style.backgroundPosition="29.5% 68%":b.style.backgroundPosition="41.2% 68%"}else if("adult"==d){var c=b.parentNode.getElementsByClassName("cut_down_btn")[0];if(c.style.backgroundPosition="17.5% 68%",e=a.innerHTML,e=Number(e),e+=1,f=Number(g.querySelector(".child_number").innerHTML)+e,f>5)return;if(e>3)return;a.innerHTML=e;var i=b.parentNode.parentNode.parentNode,j=parseInt(i.querySelector(".child_number").innerHTML);h.changeChildTemp(i,e,j),3==e?b.style.backgroundPosition="29.5% 68%":b.style.backgroundPosition="41.2% 68%"}}},changeChildTemp:function(a,b,c){var d,e=a.querySelector(".extraChild"),f=e.getElementsByClassName("inp_cage")[0].value;""!=f?1==b?2==c?(d=e.getElementsByClassName("inp_cage")[1].value,""!=d?e.innerHTML='<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+f+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+d+'" onkeyup="setAge(this);"><i class="child_sui">岁</i></div>':e.innerHTML='<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+f+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);"><i class="child_sui">岁</i></div>'):e.innerHTML='<span class="bedList" style="float: left"><i>儿童'+c+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+f+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div>':1==c?e.innerHTML='<span class="bedList" style="float: left"><i>儿童'+c+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+f+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div>':2==c&&(d=e.getElementsByClassName("inp_cage")[1].value,""!=d?e.innerHTML='<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+f+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+d+'" onkeyup="setAge(this);"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div>':e.innerHTML='<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+f+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div>'):1==b?2==c?e.innerHTML='<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div>':e.innerHTML='<span class="bedList" style="float: left"><i>儿童'+c+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div>':1==c?e.innerHTML='<span class="bedList" style="float: left"><i>儿童'+c+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div>':2==c&&(e.innerHTML='<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div>'),this.addbed()},toDown:function(a,b){var c=b.parentNode.getAttribute("data-type"),d=this,e=b.parentNode.getElementsByClassName("plus_btn")[0];b.onclick=function(){var f=a.innerHTML;if(f=Number(f),"hf_roomDown"==b.id||"hft_roomDown"==b.id){if(1>=f)return void(a.innerHTML=1);f-=1,a.innerHTML=f,1==f?b.style.backgroundPosition="6.7% 68%":b.style.backgroundPosition="17.5% 68%",5==f?e.style.backgroundPosition="29.5% 68%":e.style.backgroundPosition="41.2% 68%"}else if("adultDown"==b.id){if(1>=f)return void(a.innerHTML=1);f-=1,a.innerHTML=f,1==f?b.style.backgroundPosition="6.7% 68%":b.style.backgroundPosition="17.5% 68%",3==f?e.style.backgroundPosition="29.5% 68%":e.style.backgroundPosition="41.2% 68%";var g=b.parentNode.parentNode.parentNode,h=parseInt(g.querySelector(".child_number").innerHTML);d.changeChildTemp(g,f,h)}else{if(0>=f)return void(a.innerHTML=0);f-=1,a.innerHTML=f,0==f?b.style.backgroundPosition="6.7% 68%":b.style.backgroundPosition="17.5% 68%",2==f?e.style.backgroundPosition="29.5% 68%":e.style.backgroundPosition="41.2% 68%"}"extraChild"==c&&d.extraChild(b.parentNode.parentNode,f),"extraRoom"==c&&d.extraRoom(b.parentNode.parentNode,f)}},addbed:function(){for(var a=document.getElementsByClassName("com_icon noselect"),b=0;b<a.length;b++)!function(c){a[b].onclick=function(){var b=a[c].className;"com_icon noselect"==b?this.className="com_icon noselect ico_select":this.className="com_icon noselect"}}(b)},add_subtract:function(){var a,b,c,d=document.getElementsByClassName("content_box");"none"!=d[0].style.display?(a=d[0].getElementsByClassName("cut_up_cont"),b=d[0].getElementsByClassName("plus_btn"),c=d[0].getElementsByClassName("cut_down_btn")):(a=d[1].getElementsByClassName("cut_up_cont"),b=d[1].getElementsByClassName("plus_btn"),c=d[1].getElementsByClassName("cut_down_btn"));for(var e=0;e<a.length;e++){this.toUp(a[e],b[e],c[e]),this.toDown(a[e],c[e]);var f=parseInt(a[e].innerHTML);"adult"==a[e].parentNode.getAttribute("data-type")||"extraRoom"==a[e].parentNode.getAttribute("data-type")?1==f?c[e].style.backgroundPosition="6.7% 68%":c[e].style.backgroundPosition="17.5% 68%":0==f?c[e].style.backgroundPosition="6.7% 68%":c[e].style.backgroundPosition="17.5% 68%"}this.addbed()},extraChild:function(a,b){var c=a.parentNode.getElementsByClassName("extraChild"),d="",e=parseInt(a.parentNode.getElementsByClassName("adult_people_number")[0].innerHTML);if(0==b&&1==c.length)c[0].style.display="none";else{var f;c[0].style.display="block",f=this.extraChildTemp(b,e,c[0]),0==c.length?(d='<div class="extraChild">',domAfter(a,d+f+"</div>"),f=this.extraChildTemp(b,e,d)):(c[0].innerHTML=f,f=this.extraChildTemp(b,e,c[0]))}this.add_subtract()},extraRoom:function(a,b){var c,d=document.getElementsByClassName("content_box");c="none"!=d[0].style.display?d[0]:d[1];var e=c.getElementsByClassName("hotelInfo_numb_people"),f="";if(b<e.length)e[0].parentNode.removeChild(e[e.length-1]);else{if(b==e.length)return;var g=document.createElement("section");g.className="hotelInfo_numb_people";for(var h=1;b>=h;h++){f=this.extraRoomTemp(h);e.length;g.innerHTML=f}c.getElementsByClassName("search_hotel")[0].appendChild(g)}this.add_subtract()},extraChildTemp:function(a,b,c){var d=c.getElementsByClassName("inp_cage")[0].value;if(""!=d){if(1==b)return 2==a?'<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+d+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12"><i class="child_sui">岁</i></div>':'<span class="bedList" style="float: left"><i>儿童'+a+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+d+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div>';if(1==a)return'<span class="bedList" style="float: left"><i>儿童'+a+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+d+'"" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div>';if(2==a)return'<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value = "'+d+'" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div>'}else{if(1==b)return 2==a?'<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div>':'<span class="bedList" style="float: left"><i>儿童'+a+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div>';if(1==a)return'<span class="bedList" style="float: left"><i>儿童'+a+'年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div>';if(2==a)return'<span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><span class="bedList" style="float: left"><i>儿童2年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList spenumbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect ico_select"></b></span></div>'}this.addbed()},extraRoomTemp:function(a){return'<span class="title">房间'+a+'</span><div class="numbList"><span class="n_tit">成人</span><div class="per_price_control" data-type="adult"><span class="cut_down_btn" id="adultDown"></span><i class="cut_up_cont adult_people_number" data-type="adultNum" id="adult_people_number">2</i><span class="plus_btn"></span></div></div><div class="numbList"><span class="n_tit">儿童</span><span class="child_age">(2-12)岁</span><div class="per_price_control" data-type="extraChild"><span class="cut_down_btn"></span><i class="cut_up_cont child_number" data-type="childNum">0</i><span class="plus_btn"></span></div></div><div class="extraChild" style="display: none"><span class="bedList" style="float: left"><i>儿童1年龄</i></span><div class="childAge"><input class="inp_cage" type="tel" value placeholder="2-12" onkeyup="setAge(this);" onblur="checkAge(this)"><i class="child_sui">岁</i></div><div class="numbList"><span class="bedList" data-type="ifaddBed"><i>儿童加1床</i><b class="com_icon noselect"></b></span></div></div>'},domAfter:function(a,b){var c=a.nextSibling;if(null!=c)for(;void 0==c.tagName;){if(null==c.nextSibling){c=null;break}c=c.nextSibling}null!=c?c.parentNode.insertBefore(el(b),c):a.parentNode.appendChild(el(b))},next_page:function(){var a,b,c=function(a,b){return a.getElementsByClassName(b)},d=document.getElementsByClassName("content_box");"none"!=d[0].style.display?(a=d[0],b=1):(a=d[1],b=2);for(var e=d[0],f=d[1],g=a.getElementsByClassName("extraChild"),h=0;h<g.length;h++)if("none"!=g[h].style.display)for(var i=g[h].getElementsByClassName("inp_cage"),j=0;j<i.length;j++)if(""==i[j].value)return void jAlert("请输入儿童年龄!");for(var k=c(a,"origin")[0].innerHTML,l=c(a,"destination")[0].innerHTML,m=c(a,"origin")[0].getAttribute("data-code"),n=c(a,"destination")[0].getAttribute("data-code"),o=c(a,"js_startData")[0].getAttribute("data-day")+"T00:00:00",p=c(a,"js_returnData")[0].getAttribute("data-day")+"T00:00:00",q=(c(a,"js_startDay")[0].innerHTML,c(a,"js_endDay")[0].innerHTML,c(a,"week_one")[0].innerHTML,c(a,"week_two")[0].innerHTML,[]),r=[],s=c(a,"hotelInfo_numb_people"),t=0;t<s.length;t++){var u={},v=[],w=[],x=parseInt(s[t].querySelector(".adult_people_number").innerHTML),y=parseInt(s[t].querySelector(".child_number").innerHTML),z=s[t].querySelector(".extraChild"),A=z.querySelector(".numbList");if(1==x&&1==y)w.push(s[t].querySelector("input").value);else if(1==x&&2==y)w.push(s[t].querySelectorAll("input")[0].value),v.push(s[t].querySelectorAll("input")[1].value);else if(2==x||3==x)if(1==y){var B=A.querySelector(".noselect");B.className.indexOf("ico_select")>-1?w.push(A.parentNode.querySelector("input").value):v.push(A.parentNode.querySelector("input").value)}else 2==y&&(w.push(s[t].querySelectorAll("input")[0].value),v.push(s[t].querySelectorAll("input")[1].value));w.length>0?u.childWithBed=w:void 0,v.length>0?u.childWithOutBed=v:void 0,u.adult=x,r.push(y),q.push(u)}for(var C=0,D=0,E=0,F=0;F<q.length;F++)D+=q[F].adult,q[F].childWithBed&&(E+=q[F].childWithBed.length),q[F].childWithOutBed&&(E+=q[F].childWithOutBed.length);C=D+E;var G={FromCityNameCN:k,ToCityNameCN:l,FromCity:m,ToCity:n,DepartDate:o,ReturnDate:p,PeopleNum:C,AdultNum:D,ChildNum:E,RoomInfo:q};localStorage.setItem("searchInfo",JSON.stringify(G));for(var H={},I={},J=c(e,"origin")[0].innerHTML,K=c(e,"destination")[0].innerHTML,L=c(e,"origin")[0].getAttribute("data-citycode"),M=c(e,"destination")[0].getAttribute("data-citycode"),N=c(e,"js_startData")[0].getAttribute("data-day"),O=c(e,"js_returnData")[0].getAttribute("data-day"),P=c(e,"week_one")[0].innerHTML,Q=c(e,"week_two")[0].innerHTML,R=[],S=[],T=c(e,"hotelInfo_numb_people"),U=0;U<T.length;U++){var V={},W=[],X=[],Y=parseInt(T[U].querySelector(".adult_people_number").innerHTML),Z=parseInt(T[U].querySelector(".child_number").innerHTML),$=T[U].querySelector(".extraChild"),_=$.querySelector(".numbList");if(1==Y&&1==Z)W.push(T[U].querySelector("input").value);else if(1==Y&&2==Z)X.push(T[U].querySelectorAll("input")[0].value),W.push(T[U].querySelectorAll("input")[1].value);else if(2==Y||3==Y)if(1==Z){var aa=_.querySelector(".noselect");aa.className.indexOf("ico_select")>-1?X.push(_.parentNode.querySelector("input").value):W.push(_.parentNode.querySelector("input").value)}else 2==Z&&(X.push(T[U].querySelectorAll("input")[0].value),W.push(T[U].querySelectorAll("input")[1].value));X.length>0?V.childWithBed=X:void 0,W.length>0?V.childWithOutBed=W:void 0,V.adult=Y,S.push(Z),R.push(V)}H.FromCityNameCN=J,H.ToCityNameCN=K,H.FromCityCode=L,H.ToCityCode=M,H.DepartDay=N,H.ReturnDay=O,H.StardWeek=P,H.EndWeek=Q,H.RoomInfo=R,H.EchChildNum=S;for(var ba=c(f,"origin")[0].innerHTML,ca=c(f,"destination")[0].innerHTML,da=c(f,"origin")[0].getAttribute("data-citycode"),ea=c(f,"destination")[0].getAttribute("data-citycode"),fa=c(f,"js_startData")[0].getAttribute("data-day"),ga=c(f,"js_returnData")[0].getAttribute("data-day"),ha=c(f,"week_one")[0].innerHTML,ia=c(f,"week_two")[0].innerHTML,ja=[],ka=[],la=c(f,"hotelInfo_numb_people"),ma=0;ma<la.length;ma++){var na={},oa=[],pa=[],qa=parseInt(la[ma].querySelector(".adult_people_number").innerHTML),ra=parseInt(la[ma].querySelector(".child_number").innerHTML),sa=la[ma].querySelector(".extraChild"),ta=sa.querySelector(".numbList");if(1==qa&&1==ra)oa.push(la[ma].querySelector("input").value);else if(1==qa&&2==ra)pa.push(la[ma].querySelectorAll("input")[0].value),oa.push(la[ma].querySelectorAll("input")[1].value);else if(2==qa||3==qa)if(1==ra){var ua=ta.querySelector(".noselect");ua.className.indexOf("ico_select")>-1?pa.push(ta.parentNode.querySelector("input").value):oa.push(ta.parentNode.querySelector("input").value)}else 2==ra&&(pa.push(la[ma].querySelectorAll("input")[0].value),oa.push(la[ma].querySelectorAll("input")[1].value));pa.length>0?na.childWithBed=pa:void 0,oa.length>0?na.childWithOutBed=oa:void 0,na.adult=qa,ka.push(ra),ja.push(na)}I.FromCityNameCN=ba,I.ToCityNameCN=ca,I.FromCityCode=da,I.ToCityCode=ea,I.DepartDay=fa,I.ReturnDay=ga,I.StardWeek=ha,I.EndWeek=ia,I.RoomInfo=ja,I.EchChildNum=ka;var va={hfSearchInfo:H,hftSearchInfo:I,Box:b};localStorage.setItem("cacheSearch",JSON.stringify(va))},init:function(){this.init_title_room(),this.add_subtract(),window.sessionStorage.removeItem("hftFlightHotelTourInfo")}};htf_search.init(),$("#hft_searchBtn").click(function(){htf_search.next_page(),window.location.href="hft_scenic_list.html?type=2"}),$("#hf_searchBtn").click(function(){htf_search.next_page(),window.location.href="hft_choose.html?type=1"});