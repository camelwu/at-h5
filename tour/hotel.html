<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <title>国际酒店</title>
    <link href="../styles/style.css" rel="stylesheet">
    <link href="../styles/framework.css" rel="stylesheet">
    <link href="../styles/dzh.css" rel="stylesheet">

</head>

<body>
	<div id="preloader">
        <div id="status-t">
            <p class="center-text"></p>
        </div>
    </div>
<div class="all-elements">
    <div class="header">
        <a href="javascript:void(0);" class="icons header-back"></a>
        <h3>酒店</h3>
    </div>
    <div id="content ddd" class="snap-content" style="padding-top: 45px;padding-bottom: 51px;">
        <div id="h-Tab">
            <a class="on" id="Inter" onclick="Inter()">国际</a>
            <a id="Dom" onclick="Dom()">国内</a>
        </div>
        <form action="hotel_list.html" method="get">
            <div class="content1">

                <div  id="arr1" class="nav1" onclick="focus1()">
                    <div class="nav111">
                        目的地
                    </div>
                    <div class="nav112">
                        <div class="choose-aim">
                            <input type="text" value="Singapore" id="input1" name="CityName">
                            <i class="icons open-arw"></i>
                        </div>
                    </div>
                </div>


                <div  id="arr2" class="nav1" onclick="focus1()">
                    <div class="nav111">
                        目的地
                    </div>
                    <div class="nav112">
                        <div class="choose-aim1" >
                            <input type="text"  value="北京" id="input2" >
                            <i class="icons right1"></i>
                            <i class="position"></i>
                        </div>
                    </div>
                </div>

                <div class="content2" id="content2">
                    <div class="nav2-left">
                        <span class="nav2-lefttop">日期</span>
                        <span class="nav2-leftbottom">共 <span id="total_day">3</span> 晚</span>
                    </div>
                    <div class="nav2-center">
                        <div class="nav2-centertop" onclick="focus2()">
                            <p><input name="CheckInDate" id="CheckInDate"   value="2015-11-03"><span id="week_span1">周二 入住</span></p>

                        </div>
                        <div class="nav2-centerbottom" onclick="focus3()">
                            <p><input name="CheckOutDate" id="CheckOutDate" value="2015-11-06"><span id="week_span2">周五 离店</span></p>
                        </div>
                    </div>
                    <div class="nav2-centerright">
                        <i></i>
                    </div>
                </div>

                <div id="room" class="content3" onclick="focus4()">
                    <div class="nav3-left">
                        房间
                    </div>
                    <div class="nav3-right">
                        <div>
                            <input type="text" id="count1" name="NumRoom" value="1">
                            <i class="icons1 add" onclick="fun1(this)"></i>
                            <i class="icons1 minus" onclick="fun2(this)"></i>
                        </div>
                    </div>
                </div>

                <div id="people" class="content4">
                    <div class="nav4">
                        <div class="nav4-left">
                            人数
                        </div>
                        <div class="nav4-center">
                            <div class="nav4-centertop" onclick="focus5()">
                                <p>
                                    <input type="text" value="1" name="NumAdult" id="count2"><span>成人</span>
                                    <i class="icons1 add1" onclick="fun7(this)"></i>
                                    <i class="icons1 minus1" onclick="fun6(this)"></i>
                                </p>
                            </div>
                            <div class="nav4-centerbottom" onclick="focus6()">
                                <p>
                                    <input type="text" value="0" name="NumChild" id="count3"><span>儿童</span>
                                    <i class="icons1 add1" onclick="fun3(this)"></i>
                                    <i class="icons1 minus1" onclick="fun4(this)"></i>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="content5" onclick="focus7()">
                    <input class="HotelName" name="HotelName" type="text"  value="酒店名" id="hotelname">
                </div>
            </div>

            <!--<a href="#" class=" button-yellow hotelInter" >查询</a>-->
            <div class="aa">
                <div>
                    <input type="submit" value="查询" class="button-yellow hotelInter">
                </div>

            </div>
        </form>
    </div>

    <div class="footer"><span>版权所有@2015Asiatravel 控股有限公司.保留所有权利.</span></div>
    <div id="cd_date"></div>
</div>
</body>
<script src="../js/lib/jquery.js"></script>
<script src="../js/lib/vlm.js"></script>
<script src="../js/lib/d_calendar.js"></script>
<script src="../js/dzhhotel.js"></script>
<script>
    var lsf_myweb={
        "getbyid":function(id){
            return document.getElementById(id);
        },
        "getbytag":function(obj,tag){
            return obj.getElementsByTagName(tag);
        },
        "getbyclass":function(obj,sClass){
            if(obj.getElementsByClassName){
                return obj.getElementsByClassName(sClass);
            }else{
                var aResult=[];
                var aEle=obj.getElementsByTagName('*');
                var reg=new RegExp('\\b'+sClass+'\\b','g');
                for(var i=0;i<aEle.length;i++){
                    if(aEle[i].className.search(reg)!=-1){
                        aResult.push(aEle[i]);
                    }
                }
                return aResult;
            }
        },
        bind:function(obj,sEv,fn){
            obj.addEventListener?obj.addEventListener(sEv,fn,false):obj.attachEvent('on'+sEv,fn);
        }
    };
    (function(){
        function n2c(num){
            switch (parseInt(num)){
                case 1:
                    return '一';
                    break;
                case 2:
                    return '二';
                    break;
                case 3:
                    return '三';
                    break;
                case 4:
                    return '四';
                    break;
                case 5:
                    return '五';
                    break;
                case 6:
                    return '六';
                    break;
                case 0:
                    return '七';
                    break;
            };
        }
        function toDou(num){
            return num<10?'0'+num:''+num;
        }
        //var cdDate=lsf_myweb.getbyid('cd_date');
        var checkIn=lsf_myweb.getbyid('CheckInDate');
        var checkOut=lsf_myweb.getbyid('CheckOutDate');
        var content2=lsf_myweb.getbyid('content2');
        var oDate=new Date();
        var y=oDate.getFullYear();
        var m=oDate.getMonth()+1;
        var d=oDate.getDate();
        var oDate1=new Date(oDate.getFullYear(),oDate.getMonth(),oDate.getDate()+2);
        var oDate2=new Date(oDate.getFullYear(),oDate.getMonth(),oDate.getDate()+5);
        var beginDate=oDate1.getFullYear()+'-'+toDou(oDate1.getMonth()+1)+'-'+toDou(oDate1.getDate());
        var leaveDate=oDate2.getFullYear()+'-'+toDou(oDate2.getMonth()+1)+'-'+toDou(oDate2.getDate());
        checkIn.value=beginDate;
        checkOut.value=leaveDate;
        var obj={};
        obj[beginDate]="入住";
        obj[leaveDate]="离店";
        function Calender2(){
            Calender.apply(this,arguments);
        }
        Calender2.prototype=new Calender();
        var oldlinkover=Calender.prototype.linkOver;
        Calender2.prototype.linkOver=function(){
            var sels = $('#'+ this.id +'-date .live_circle'),i,l=sels.length,that=this,arr=[];
            var out = _CalF.$('input',that.input);
            var tal = _CalF.$('#total_day',that.input);
            for(i = 0;i<2;i++){
                arr.push(sels[i].parentNode.getAttribute("data-day"));
                out[i].value = sels[i].parentNode.getAttribute("data-day");
            }
            tal.innerHTML = (Math.round((new Date(arr[1])-new Date(arr[0]))/(1000*60*60*24)));
            that.removeDate();
            that.header.parentNode.removeChild(that.header);
            var oDate1=new Date(arr[0].split('-')[0],(arr[0].split('-')[1]-1),arr[0].split('-')[2]);
            var oday1=oDate1.getDay();
            var oDate2=new Date(arr[1].split('-')[0],(arr[1].split('-')[1]-1),arr[1].split('-')[2]);
            var oday2=oDate2.getDay();
            //alert(oDate1+'---'+oDate2);
            lsf_myweb.getbyid('week_span1').innerHTML='周'+n2c(oday1)+' 入住';
            lsf_myweb.getbyid('week_span2').innerHTML='周'+n2c(oday2)+' 离店';
        }
        var myDate1 = new Calender2({id: 'content2', num: 13, time: obj});
        /*content2.onclick=function() {
            var obj={};
            // cdDate.style.display = 'block';
            // cdDate.style.background = '#fff';
            obj[beginDate]="入住";
            obj[leaveDate]="离店";
            //var obj={"2015-12-24":"入住","2015-12-26":"离店"};
            //var arr=new Calender({id:'cd_date',num:4,time:obj});
            function calender2() {
                Calender.apply(this, arguments);
            }
            calender2.prototype = new Calender();
            //console.log(calender2.prototype);
            var oldLinkover = calender2.prototype.linkOver;
            //alert(oldLinkover);
            calender2.prototype.linkOver = function () {
                oldLinkover.apply(this, arguments);
                var oDate=new Date();
                var span1=lsf_myweb.getbyid('week_span1');
                var span2=lsf_myweb.getbyid('week_span2');
                var oDate1=new Date();
                var oDate2=new Date();
                checkIn.value = this.result[0]
                checkOut.value = this.result[1];
                function spl(str){
                    return str.split('-');
                }
                oDate1.setFullYear(spl(this.result[0])[0],(spl(this.result[0])[1]-1),spl(this.result[0])[2]);
                var week1=oDate1.getDay();
                span1.innerHTML='周'+n2c(week1)+' 入住';
                oDate2.setFullYear(spl(this.result[1])[0],(spl(this.result[1])[1]-1),spl(this.result[1])[2]);
                var week2=oDate2.getDay();
                span2.innerHTML='周'+n2c(week2)+' 离店';
                var oDay=((oDate2-oDate1)/(1000*60*60*24))+1;
                if(oDay>=30){
                    alert('住店时间不可超过30天，请重新选择');
                    return;
                }
                lsf_myweb.getbyid('total_day').innerHTML=oDay;
                //cdDate.style.display = 'none';
                //if(spl(this.result[1])[2]<spl(this.result[0])[2]){
                //    if(spl(this.result[1])[1]<spl(this.result[0])[1]){
                //        if(spl(this.result[1])[0]<spl(this.result[0])[0]){
                //            alert('离店日期不能比住店日期提前');
                //        }
                //    }
                //}

            }
            var arr = new calender2({id: 'content2', num: 13, time: obj});
        };*/
    })();

</script>
</html>