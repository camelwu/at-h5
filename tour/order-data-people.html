<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0 minimal-ui"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="green">
    <meta name="Keywords" content="亚洲旅行网">
    <meta name="Description" content="境外专业旅行服务提供机构">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">
    <meta name="full-screen" content="yes">
    <meta name="x5-fullscreen" content="true">

    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/splash/splash-icon.png">
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="images/splash/splash-icon-big.png">
    <link rel="apple-touch-startup-image" href="images/splash/splash-screen.png" 	media="screen and (max-device-width: 320px)" />
    <link rel="apple-touch-startup-image" href="images/splash/splash-screen@2x.png" media="(max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2)" />
    <link rel="apple-touch-startup-image" href="images/splash/splash-screen-six.png" media="(device-width: 375px)">
    <link rel="apple-touch-startup-image" href="images/splash/splash-screen-six-plus.png" media="(device-width: 414px)">
    <link rel="apple-touch-startup-image" sizes="640x1096" href="images/splash/splash-screen@3x.png" />
    <link rel="apple-touch-startup-image" sizes="1024x748" href="images/splash/splash-screen-ipad-landscape" media="screen and (min-device-width : 481px) and (max-device-width : 1024px) and (orientation : landscape)" />
    <link rel="apple-touch-startup-image" sizes="768x1004" href="images/splash/splash-screen-ipad-portrait.png" media="screen and (min-device-width : 481px) and (max-device-width : 1024px) and (orientation : portrait)" />
    <link rel="apple-touch-startup-image" sizes="1536x2008" href="images/splash/splash-screen-ipad-portrait-retina.png"   media="(device-width: 768px)	and (orientation: portrait)	and (-webkit-device-pixel-ratio: 2)"/>
    <link rel="apple-touch-startup-image" sizes="1496x2048" href="images/splash/splash-screen-ipad-landscape-retina.png"   media="(device-width: 768px)	and (orientation: landscape)	and (-webkit-device-pixel-ratio: 2)"/>

    <title>输入资料页 - 亚洲旅行网</title>
    <link href="../styles/framework.css" type="text/css" rel="stylesheet">
    <link href="../styles/style.css" type="text/css" rel="stylesheet">
    <link href="../styles/dzh.css" rel="stylesheet">
    <link href="../styles/tips.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="css/tour.css">
</head>
<body>
<div id="preloader">
    <div id="status">
        <p class="center-text">
            <br>
            <em>加载中……</em>
        </p>
    </div>
</div>
<div class="all-elements">
    <!--   顶部   -->
    <div class="header">
        <a href="javascript:history.go(-1);" class="icons header-back"></a>
        <h3 class="head-h3">资料输入</h3>
    </div>
    <!--   内容   -->
    <div id="content ddd" class="snap-content" style="padding-top: 45px;padding-bottom: 51px;">
        <section class="all_title">
            <h3 class="hotel">酒店</h3>
        </section>
        <section class="select_date">
            <div class="content2" id="date-range">
                <div class="nav2-left">
                    <span class="nav2-lefttop">日期</span>
                    <span class="nav2-leftbottom">共 <span id="total_day">3</span> 晚</span>
                </div>
                <div class="nav2-center">
                    <div class="nav2-centertop">
                        <p><input name="CheckInDate" id="CheckInDate" value="2016-03-11" class="CheckInDateI"><span id="week_span1">周四 入住</span></p>

                    </div>
                    <div class="nav2-centerbottom">
                        <p><input name="CheckOutDate" id="CheckOutDate" value="2016-03-12" class="CheckInDateI"><span id="week_span2">周一 离店</span></p>
                    </div>
                </div>
                <div class="nav2-centerright">
                    <i></i>
                </div>
            </div>
        </section>
        <section class="hotelInfo_numb_room">
            <span class="title">房间</span>
            <div class="per-price-control" data-type="extraRoom"><span id="room_downb" class="cut-down-btn"></span><i id="roomNum" class="cut-up-cont">1</i><span class="plus-btn"></span></div>
        </section>
        <section class="hotelInfo_numb_people">
            <span class="title">房间1</span>
            <div class="numbList">
                <span class="n_tit">成人</span>
                <div class="per-price-control"><span class="cut-down-btn"></span><i class="cut-up-cont" data-type="adultNum" id="adult-people-number">1</i><span class="plus-btn"></span></div>
            </div>
            <div class="numbList">
                <span class="n_tit">儿童</span>
                <span class="child-age">（2-14岁）</span>
                <div class="per-price-control" data-type="extraChild"><span class="cut-down-btn"></span><i class="cut-up-cont" data-type="childNum">1</i><span class="plus-btn"></span></div>
            </div>
            <!--<div id="addChild">-->
            <div class="extraChild">
                <span class="bedList" style="float: left"><i>儿童年龄1</i></span>
                <div class="childAge">
                    <input class="inp-cage" type="text" placeholder="2-14"><i class="child-sui">岁</i>
                </div>
                <div class="numbList">
                    <span class="bedList" data-type="ifaddBed"><i>加床</i><b class="icon noselect"></b></span>
                </div>
            </div>
        </section>
        <section class="all_title">
            <h3>景点</h3>
        </section>
        <section id="tourTime" class="tourTime">
            <!-- <div class="content2" id="content3">
             <div class="nav2-center">
             <div class="nav2-centertop">
             <span>景点1</span>
             <p><input name="CheckInDate" id="content3_CheckInDate" value="2016-03-11" class="content3_CheckInDate"><span id="content3_week_span1" class="week-tour">周四</span></p>
             </div>
             </div>
             <div class="nav2-centerright">
             <i></i>
             </div>
             </div>
             -->
        </section>
        <section class="orderBtn"><a id="order_btn" href="#">预订</a></section>
    </div>
</div>

<script src="../js/lib/d_calendar1.0.2.js"></script>
<script src="../js/lib/jquery.js"></script>
<script src="../js/lib/plugins.js"></script>
<script src="../js/lib/jquery.alert.js"></script>
<script src="../js/lib/vlm.js"></script>
<script src="../js/lib/template.js"></script>
<script src="../js/lib/custom.js"></script>
<script src="js/dateFix.js"></script>
<script>
    var lsf_myweb={
        "getbyid":function(id){
            return document.getElementById(id);
        },
        "getbytag":function(obj,tag){
            return obj.getElementsByTagName(tag);
        },
        "getbyclass":function(obj,sClass){
            if(obj.getElementsByClassName){
                return obj.getElementsByClassName(sClass);
            }else{
                var aResult=[];
                var aEle=obj.getElementsByTagName('*');
                var reg=new RegExp('\\b'+sClass+'\\b','g');
                for(var i=0;i<aEle.length;i++){
                    if(aEle[i].className.search(reg)!=-1){
                        aResult.push(aEle[i]);
                    }
                }
                return aResult;
            }
        },
        bind:function(obj,sEv,fn){
            obj.addEventListener?obj.addEventListener(sEv,fn,false):obj.attachEvent('on'+sEv,fn);
        }
    };
    (function(){
        function toUp(m,n,n_1){
            var _type = n.parentNode.getAttribute("data-type");
            n.onclick=function(){
                var str=m.innerHTML;
                str=Number(str);
                str=str+1;
                m.innerHTML=str;
                str==0?n_1.style.backgroundPosition = '-26px 2px':n_1.style.backgroundPosition = '-51px 2px';
                _type=="extraChild"&&extraChild(n.parentNode.parentNode,str);
                _type=="extraRoom"&&extraRoom(n.parentNode.parentNode,str);
            };
        }
        function toDown(m,n){
            var _type = n.parentNode.getAttribute("data-type");
            n.onclick=function(){
                var str=m.innerHTML;
                str=Number(str);
                if(n.id == 'room_downb'){
                    if(str<=1){m.innerHTML=1;}else{str=str-1;m.innerHTML=str;}
                    str==1?n.style.backgroundPosition = '-26px 2px':n.style.backgroundPosition = '-51px 2px';
                }else {
                    if (str <= 0) {
                        m.innerHTML = 0;
                    } else {
                        str = str - 1;
                        m.innerHTML = str;
                    }
                    str == 0 ? n.style.backgroundPosition = '-26px 2px' : n.style.backgroundPosition = '-51px 2px';
                }
                _type=="extraChild"&&extraChild(n.parentNode.parentNode,str);
                _type=="extraRoom"&&extraRoom(n.parentNode.parentNode,str);
            };
        }
        //  实现加减
        function add_subtract() {
            var oNum = document.getElementsByClassName('cut-up-cont'),
                    _plus_btn = document.getElementsByClassName('plus-btn'),
                    _cut_down_btn = document.getElementsByClassName('cut-down-btn');
            for (var i = 0; i < oNum.length; i++) {
                toUp(oNum[i], _plus_btn[i], _cut_down_btn[i]);
                toDown(oNum[i], _cut_down_btn[i]);
                var str = parseInt(oNum[i].innerHTML);
                if (i == 0) {
                    str == 1 ? _cut_down_btn[i].style.backgroundPosition = '-26px 2px' : _cut_down_btn[i].style.backgroundPosition = '-51px 2px';
                } else {
                    str == 0 ? _cut_down_btn[i].style.backgroundPosition = '-26px 2px' : _cut_down_btn[i].style.backgroundPosition = '-51px 2px';
                }
            }
            (function() {
                var addBed = document.getElementsByClassName('icon noselect');
                for (var j = 0; j < addBed.length; j++) {
                    {
                        (function(index) {
                            addBed[j].onclick = function () {
                                var c_name = addBed[index].className;
                                if (c_name == 'icon noselect') {
                                    this.className = 'icon noselect ico_select';
                                } else {
                                    this.className = 'icon noselect';
                                }
                            }
                        }(j))
                    }
                }
            })()
        }
        add_subtract();
        //   加减儿童
        function extraChild(dom,numb){
//                var _bedBox = dom.parentNode.getElementById('addChild') , _html='';
            var _bedBox = dom.parentNode.getElementsByClassName('extraChild') , _html='';
            if(numb==0&&_bedBox.length==1){_bedBox[0].style.display = 'none';}else{
                _bedBox[0].style.display = 'block';
                var _listHtml = '';
                for(var i=1;i<=numb;i++){_listHtml+=extraChildTemp(i);}
                if(_bedBox.length==0){
                    _html='<div class="extraChild">';
                    domAfter(dom,_html+_listHtml+'</div>');
                }else{
                    _bedBox[0].innerHTML = _listHtml;
                }
            }
            add_subtract();
        }
        //    加减房间
        function extraRoom(dom,numb){
            var roomBox_first = dom.parentNode.childNodes[7];
            var roomBox = document.getElementsByClassName('hotelInfo_numb_people');
            var _html = '';
            if(numb<roomBox.length){
                console.log(roomBox[roomBox.length-1]);
                roomBox_first.parentNode.removeChild(roomBox[roomBox.length-1]);
            }else if(numb==roomBox.length){
                return;
            }
            else{
                var section = document.createElement("section");
                section.className = "hotelInfo_numb_people";
                for(var i=1;i<=numb;i++){
                    _html = extraRoomTemp(i);
                    var rb_l = roomBox.length;
                    var lastIndex = rb_l-1;
                    section.innerHTML = _html;
                    roomBox_first.parentNode.insertBefore(section,roomBox[lastIndex].nextElementSibling);
                }
            }
            add_subtract();
        }
        function extraChildTemp(i){
            return '<span class="bedList" style="float: left"><i>儿童年龄'+i+'</i></span>'
                    +'<div class="childAge">'
                    +'<input class="inp-cage" type="text" value placeholder="2-14"><i class="child-sui">岁</i>'
                    +'</div>'
                    +'<div class="numbList spenumbList">'
                    +'<span class="bedList" data-type="ifaddBed"><i>加床</i><b class="icon noselect"></b></span>'
                    +'</div>';
        }
        function extraRoomTemp(i){
            return '<span class="title">房间'+i+'</span>'
                    +'<div class="numbList">'
                    +'<span class="n_tit">成人</span>'
                    +'<div class="per-price-control"><span class="cut-down-btn"></span><i class="cut-up-cont" data-type="adultNum" id="adult-people-number">1</i><span class="plus-btn"></span></div>'
                    +'</div>'
                    +'<div class="numbList">'
                    +'<span class="n_tit">儿童</span>'
                    +'<span class="child-age">（2-14岁）</span>'
                    +'<div class="per-price-control" data-type="extraChild"><span class="cut-down-btn"></span><i class="cut-up-cont" data-type="childNum">1</i><span class="plus-btn"></span></div>'
                    +'</div>'
                    +'<div class="extraChild">'
                    +'<span class="bedList" style="float: left"><i>儿童年龄1</i></span>'
                    +'<div class="childAge">'
                    +'<input class="inp-cage" type="text" value placeholder="2-14"><i class="child-sui">岁</i>'
                    +'</div>'
                    +'<div class="numbList">'
                    +'<span class="bedList" data-type="ifaddBed"><i>加床</i><b class="icon noselect"></b></span>'
                    +'</div>'
                    +'</div>';
        }
        function domAfter(dom,html){
            var next = dom.nextSibling;
            if(next!=null){
                while(next.tagName==undefined){
                    if(next.nextSibling!=null){
                        next = next.nextSibling;
                    }else{
                        next = null;break;
                    }
                }
            }
            next!=null?next.parentNode.insertBefore(el(html),next):dom.parentNode.appendChild(el(html));
        }
    })()
</script>
//   获取景点
<script id="tpl_GetTour" type="text/template">
    {% for(var i=0;i < tours.length;i++){ %}
    <div class="content2" id="content{%=i%}" data-tour-id="{%=tours[i].tourID%}">
        <div class="nav2-center">
            <div class="nav2-centertop">
                <span>景点{%=i+1%}</span>
                <p><input name="CheckInDate" id="content{%=i%}_CheckInDate" value="2016-03-11" class="content3_CheckInDate"><span id="content{%=i%}_week_span1" class="week-tour">周四</span></p>
            </div>
        </div>
        <div class="nav2-centerright">
            <i></i>
        </div>
    </div>
    {% } %}
</script>
<script>
    (function(){
        var maxAdultNumber = 0;
        var ww = this;
        var val = vlm.parseUrlPara(window.location.href);
        vlm.init();
        var packageID = localStorage.packageID;
        var inpitInfo = function(){
            //   加载动画
            var flashLoad = function(){
                $(window).load(function () {
                    $("#status").fadeOut();
                    $("#preloader").delay(400).fadeOut("medium");
                });
            };
            //   加载景点
            var getSpot = function(){
                var tmp={
                    "Parameters": {
                        "PackageID": packageID
                    },
                    "ForeEndType": 3,
                    "Code": "0202"
                };
                vlm.loadJson("",JSON.stringify(tmp),getspot_back);
                function getspot_back(ret){
                    var json = eval('('+ret+')');
                    console.log(json);
                    if(json.success) {
                        var data = json.data;
                        maxAdultNumber = parseInt(data.maxAdult);
                        var tpl_GetTour = template("tpl_GetTour",data);
                        dateHandler.init();
                        $('#tourTime').html(tpl_GetTour);
                        if(data.length == 0){
                            jAlert("抱歉暂时没有数据","提示");
                        }
                    }else{
                        console.log(json);
                        jAlert(json.message,"提示");
                    }
                }
            };
            //  传递数据
            var sendInfo = function(){
                var CheckInDate = document.getElementById('CheckInDate').value+'T00:00:00';
                var CheckOutDate = document.getElementById('CheckOutDate').value+'T00:00:00';
                var roomNum = document.getElementById('roomNum').innerHTML;   //房间数
                var inputInfo = document.getElementsByClassName("cut-up-cont");
                var bed = document.getElementsByClassName("bedList");
                var childAge = document.getElementsByClassName("inp-cage");
                var adult = [];
                var eveAdultNum = [];
                var eveChildNum = [];
                var ifAddBed = [];
                var withoutBedAge = [];
                var withBedAge = [];
                var adultNum = 0;
                var childNum = 0;
                var allNum = 0;
                //  总成人数,每个房间成人数，儿童数和不加床儿童数
                for(var i = 0;i < inputInfo.length;i++){
                    if(inputInfo[i].getAttribute("data-type") == 'adultNum'){
                        adult.push(inputInfo[i].innerHTML);
                        eveAdultNum.push(inputInfo[i].innerHTML);
                    }
                    if(inputInfo[i].getAttribute("data-type") == 'childNum'){
                        eveChildNum.push(inputInfo[i].innerHTML);
                    }
                }
                for(var j = 0;j < adult.length;j++){
                    adultNum = adultNum + parseInt(adult[j]);
                }
                for(var m = 0;m < bed.length;m++){
                    if(bed[m].getAttribute('data-type') == 'ifaddBed'){
                        ifAddBed.push(bed[m].getElementsByTagName('b')[0]);
                    }
                }
                for(var k = 0;k < eveChildNum.length;k++){
                    childNum = childNum + parseInt(eveChildNum[k]);
                }
                for(var n = 0;n < ifAddBed.length;n++){
                    if(ifAddBed[n].className == 'icon noselect'){
                        withoutBedAge.push(parseInt(childAge[n].value));
                    }else{
                        withBedAge.push(parseInt(childAge[n].value));
                    }
                }
                allNum = adultNum + childNum;
                var tourUl = document.querySelector('#tourTime'),tourData = [];
                var tourEles= tourUl.querySelectorAll('.content2');
                for(var h = 0; h < tourEles.length;h++){
                    var temObj = {};
                    temObj['tourID']=tourEles[h].getAttribute('data-tour-id');
                    temObj['travelDate']=tourEles[h].querySelector('input').value+'T00:00:00';
                    tourData.push(temObj);
                }
                //   判断页面能否跳转

                var extraAdult = parseInt(document.querySelector('#adult-people-number').innerHTML);
                var extraChild = document.getElementsByClassName('extraChild');
                console.log(extraAdult)
                console.log(maxAdultNumber)
                if(extraAdult < maxAdultNumber){
                    jAlert("成人不能少于"+maxAdultNumber+"人","提示");
                    return;
                }
                for(var v = 0;v < extraChild.length;v++){
                    if(extraChild[v].style.display != 'none'){
                        var input = extraChild[v].getElementsByClassName("inp-cage");
                        for(var w = 0;w < input.length;w++){
                            if(input[w].value == ''){
                                jAlert("儿童年龄未输入","提示");
                                return;
                            }
                            if(input[w].value < 2 || input[w].value >14){
                                jAlert("儿童年龄不符合标准","提示");
                                return;
                            }
                        }
                    }
                }
//                for(var w = 0;w < input.length;w++){
//                    if(input[w].value == ''){
//                        jAlert("儿童年龄未输入","提示");
//                        return;
//                    }
//                    if(input[w].value < 2 || input[w].value >14){
//                        jAlert("儿童年龄不符合标准","提示");
//                        return;
//                    }
//                }
                var InfoData = {
                    "checkInDate":CheckInDate,
                    "checkOutDate":CheckOutDate,
                    "roomNum":parseInt(roomNum),
                    "adultNum":adultNum,
                    "childNum":childNum,
                    "allNum":allNum,
                    "withoutBedAge":withoutBedAge,
                    "withBedAge":withBedAge,
                    "tourList":tourData,
                    "eveAdultNum":eveAdultNum,
                    "eveChildNum":eveChildNum
                };
                localStorage.setItem('info', JSON.stringify(InfoData));
                window.location.href = "hotel_list.html";
            };
            return{
                FlashLoad:flashLoad,
                GetSpot:getSpot,
                SendInfo:sendInfo
            }
        }();
        ww.MT = ww.MT || {};
        ww.MT.load = function(){
            inpitInfo.FlashLoad();
            inpitInfo.GetSpot();
        };
        ww.MT.sendData = function(){
            inpitInfo.SendInfo();
        };
        MT.load();

    })();
    var order_btn = $('#order_btn');
    order_btn.click( MT.sendData);
    var dateHandler = {
        initDate: function(){
            var d = new Date(), s = new Date(d.setDate(d.getDate() + 1)),
                    r =new Date( d.setDate(d.getDate() + 1)),paraObj={};
            var inputs = document.querySelectorAll('.CheckInDateI')
            paraObj = {
                start:s.getFullYear() + "-"+(s.getMonth()+1)+ "-"+s.getDate(),
                end:r.getFullYear() + "-"+(r.getMonth()+1)+ "-"+r.getDate()};

            inputs[0].value = paraObj.start;
            inputs[1].value = paraObj.end;
            var dateInitObj = {},paramStr;
            var  returnWeek=function(arg){
                if(arg){
                    var week,array,index = new Date(arg.replace(/-/g, "/")).getDay();
                    switch (index){
                        case 0 :
                            week = '周日';
                            break;
                        case 1 :
                            week = '周一';
                            break;
                        case 2 :
                            week = '周二';
                            break;
                        case 3 :
                            week = '周三';
                            break;
                        case 4 :
                            week = '周四';
                            break;
                        case 5 :
                            week = '周五';
                            break;
                        case 6 :
                            week = '周六';
                            break;
                        default :
                            void(0);
                    }
                    return week;
                }
            };

            var myDate= new TicketDate({
                id: 'date-range',
                num: 13,
                time: dateInitObj,
                sClass1: 'CheckInDateI',
                type:'Return',
                range:[],
                _word:{tip:['入住','离店']},
                fn:function(){ //最终执行函数
                    // alert(2)
                },
                fn2:function(arg){ //选择之后的及时回调
                    var inputs = document.querySelectorAll('.'+this.sClass1),span1 = document.querySelector('#week_span1'),span2 = document.querySelector('#week_span2');
                    var total_day =document.querySelector('#total_day'), that = dateHandler;
                    var tourLi = document.querySelector('.tourTime'), allDivs;
                    var  returnWeek=function(arg1){
                        if(arg1){
                            var week,array,index = new Date(arg1.replace(/-/g, "/")).getDay();
                            switch (index){
                                case 0 :
                                    week = '周日';
                                    break;
                                case 1 :
                                    week = '周一';
                                    break;
                                case 2 :
                                    week = '周二';
                                    break;
                                case 3 :
                                    week = '周三';
                                    break;
                                case 4 :
                                    week = '周四';
                                    break;
                                case 5 :
                                    week = '周五';
                                    break;
                                case 6 :
                                    week = '周六';
                                    break;
                                default :
                                    void(0);
                            }
                            return week;
                        }
                    };
                    allDivs = tourLi.querySelectorAll('.content2');
                    inputs[0].value = arg.start;
                    inputs[1].value = arg.end;
                    total_day.innerHTML = that.getDayNum(inputs[0].value,inputs[1].value);
                    span1.innerHTML = returnWeek(arg.start)+' 入住';
                    span2.innerHTML = returnWeek(arg.end)+' 离店';
                    for(var i = 0; i<allDivs.length;i++ ){
                        var input ='',span='',id='';
                        id = allDivs[i].id;
                        input = allDivs[i].querySelector('input').className;
                        span = allDivs[i].querySelectorAll('span')[1].className;
                        that.chooseDate(allDivs[i],id,input, span ,inputs[0].value,inputs[1].value)
                    }

                }
            });
            return this;
        },
        chooseDate: function(ele,id, input ,span ,startDate, endDate){
            var rangeArray = [startDate, endDate];
            var myDate= new TicketDate({
                id: id,
                num: 13,
                time: {},
                sClass1:input,
                type:'Oneway',
                _word:{tip:['入住']},
                range:rangeArray,
                fn:function(){},
                fn2:function(arg1){
                    var inputs = ele.querySelector('.'+input),span1 = ele.querySelector('.week-tour');
                    var  returnWeek=function(arg1){
                        if(arg1){
                            var week,array,index = new Date(arg1.replace(/-/g, "/")).getDay();
                            switch (index){
                                case 0 :
                                    week = '周日';
                                    break;
                                case 1 :
                                    week = '周一';
                                    break;
                                case 2 :
                                    week = '周二';
                                    break;
                                case 3 :
                                    week = '周三';
                                    break;
                                case 4 :
                                    week = '周四';
                                    break;
                                case 5 :
                                    week = '周五';
                                    break;
                                case 6 :
                                    week = '周六';
                                    break;
                                default :
                                    void(0);
                            }
                            return week;
                        }
                    };
                    inputs.value = arg1.start;
                    span1.innerHTML = returnWeek(arg1.start);
                }
            });
            return this;
        },
        getDayNum: function(arg1,arg2){
            var time1 = Date.parse(arg1), time2 = Date.parse(arg2);
            return  dayCount = (Math.abs(time2 - time1))/1000/60/60/24;
        },
        init:function(){
            this.initDate()

        }
    };

</script>

</body>
</html>